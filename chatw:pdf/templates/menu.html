<div class="chat-container">
    <button hx-get="/load_chat/{{ chat.id }}" class="chat-{{ chat.id }}" hx-target="main" hx-trigger="click, load">
        <div id="chat-name-{{ chat.id }}" contenteditable="true" oninput="updateChatNameLive('{{ chat.id }}')">{{ chat.title }}</div>
    </button>
    <div class="chat-options">
        <button onclick="showOptions('{{ chat.id }}')">Options</button>
        <div id="options-menu-{{ chat.id }}" class="options-menu" style="display: none;">
            <button onclick="editChatName('{{ chat.id }}')">Edit Name</button>
            <button onclick="deleteChat('{{ chat.id }}')">Delete Chat</button>
            <!-- Add more options here as needed -->
        </div>
    </div>
</div>

<script>
function updateChatNameLive(chatId) {
    // Your existing AJAX call to update the chat name
}

function showOptions(chatId) {
    var optionsMenu = document.getElementById('options-menu-' + chatId);
    optionsMenu.style.display = optionsMenu.style.display === 'block' ? 'none' : 'block';
}

function editChatName(chatId) {
    // Logic to make the chat name editable
    var chatNameDiv = document.getElementById('chat-name-' + chatId);
    chatNameDiv.contentEditable = true;
    chatNameDiv.focus();
}

function deleteChat(chatId) {
    // Your existing AJAX call to delete the chat
}
</script>

<style>
.options-menu {
    position: absolute;
    background-color: #f9f9f9;
    min-width: 160px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    padding: 12px 16px;
    z-index: 1;
}
</style>
